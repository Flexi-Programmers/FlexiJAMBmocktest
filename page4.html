<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Flexi CBT – Exam</title>

<!-- Firebase (Compat SDK – NOT module) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
/* ===== BASIC ===== */
body { margin:0; font-family:Arial, Helvetica, sans-serif; background:#f2f2f2; }

/* ===== HEADER ===== */
.header { background:#1b5e20; color:white; padding:10px 14px; display:flex; flex-direction:column; gap:6px; }
.header-tools { display:flex; align-items:center; gap:12px; }
.calc-icon { cursor:pointer; width:36px; height:36px; display:flex; align-items:center; justify-content:center; }
.calc-icon:hover { opacity:0.8; }
.calc-icon svg, .calc-icon svg * { pointer-events:none; }

/* Timer */
.timer-wrap { width:160px; height:10px; background:#8e0000; border-radius:20px; overflow:hidden; }
.timer-bar { height:100%; background:#ff5252; width:100%; transition:width 0.5s linear; }
.time-text { font-size:12px; font-weight:bold; text-align:right; }

/* ===== SUBJECTS ===== */
#subjectTabs { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin:10px 0; }
.subject-tab { padding:8px 16px; border-radius:20px; border:2px solid #0b6623; cursor:pointer; font-weight:bold; text-align:center; }
.subject-tab.active { background:#0b6623; color:white; }

/* ===== MAIN ===== */
.main { padding:12px; }
.question-box { background:white; padding:12px; border-radius:6px; }
.question-text { font-weight:bold; margin-bottom:10px; }
.option-circle { width:100%; padding:12px; margin:6px 0; border-radius:50px; border:2px solid #ccc; cursor:pointer; text-align:left; font-size:16px; }
.option-circle.selected { background:#4caf50; color:white; border-color:#4caf50; }

/* ===== Q NUMBERS ===== */
.qnums { display:flex; flex-wrap:wrap; margin-top:10px; }
.qnum { width:30px; height:30px; line-height:30px; margin:4px; text-align:center; color:white; font-weight:bold; border-radius:4px; cursor:pointer; }
.qnum.red { background:#d32f2f; }
.qnum.green { background:#388e3c; }
.qnum.current { border:2px solid #0b6623; background:#e6f4ea; color:#0b6623; }

/* ===== NAV ===== */
.nav-buttons { display:flex; gap:10px; margin-top:10px; }
.nav-buttons button { flex:1; padding:12px; font-size:15px; font-weight:600; border:none; border-radius:8px; cursor:pointer; }
#prevBtn { background:#e0e0e0; color:#333; }
#nextBtn { background:#0f9d58; color:white; }
#prevBtn:hover { background:#d5d5d5; }
#nextBtn:hover { background:#0c7c45; }

/* ===== SUBMIT ===== */
#submitBtn { width:100%; margin-top:10px; padding:12px; background:#d32f2f; color:white; font-weight:bold; border:none; border-radius:6px; cursor:pointer; }
#submitBtn:hover { background:#b71c1c; }

/* ===== CALCULATOR ===== */
.calc-modal { position:fixed; inset:0; background:rgba(0,0,0,.5); display:none; align-items:center; justify-content:center; z-index:999; }
.calc-box { background:white; padding:15px; width:280px; border-radius:8px; }
.calc-screen { width:100%; height:40px; font-size:18px; margin-bottom:8px; }
.calc-keys { display:grid; grid-template-columns:repeat(4,1fr); gap:6px; }
.calc-keys button { padding:12px; font-size:16px; cursor:pointer; }
.close-calc { width:100%; margin-top:6px; background:#d32f2f; color:white; border:none; padding:8px; cursor:pointer; }

/* ===== VOLUME BUTTON ===== */
#volumeBtn { width:36px; height:36px; cursor:pointer; display:flex; align-items:center; justify-content:center; }
#volumeBtn:hover { opacity:0.8; }
</style>
</head>

<body>

<div class="header">
  <div id="candName"></div>
  <div class="header-tools">
    <!-- Calculator -->
    <div class="calc-icon" id="openCalcBtn" title="Calculator">
      <svg viewBox="0 0 24 24" fill="white">
        <rect x="3" y="2" width="18" height="20" rx="2" ry="2" stroke="white" stroke-width="2" fill="none"/>
        <rect x="7" y="6" width="10" height="3" fill="white"/>
        <circle cx="8" cy="12" r="1.2" fill="white"/>
        <circle cx="12" cy="12" r="1.2" fill="white"/>
        <circle cx="16" cy="12" r="1.2" fill="white"/>
        <circle cx="8" cy="16" r="1.2" fill="white"/>
        <circle cx="12" cy="16" r="1.2" fill="white"/>
        <circle cx="16" cy="16" r="1.2" fill="white"/>
      </svg>
    </div>

    <!-- Timer -->
    <div style="display:flex; flex-direction:column; align-items:flex-end;">
      <div class="timer-wrap"><div id="timerBar" class="timer-bar"></div></div>
      <div id="timeText" class="time-text">00:20:00</div>
    </div>

    <!-- Volume -->
    <div class="calc-icon" id="volumeBtn" title="Read question aloud">
      <svg viewBox="0 0 24 24" fill="black">
        <path d="M3 10v4h4l5 5V5l-5 5H3z"/>
        <path d="M14.5 12a3.5 3.5 0 0 1 0-2v2z"/>
      </svg>
    </div>
  </div>
</div>

<div id="subjectTabs"></div>

<div class="main">
  <div class="question-box">
    <div id="questionText"></div>
    <div id="options"></div>
  </div>

  <div id="qnums" class="qnums"></div>

  <div class="nav-buttons">
    <button id="prevBtn">Previous</button>
    <button id="nextBtn">Next</button>
  </div>

  <button id="submitBtn">Submit</button>
</div>

<!-- Calculator Modal -->
<div class="calc-modal" id="calcModal">
  <div class="calc-box">
    <input id="calcScreen" class="calc-screen" readonly>
    <div class="calc-keys">
      <button>7</button><button>8</button><button>9</button><button>÷</button>
      <button>4</button><button>5</button><button>6</button><button>×</button>
      <button>1</button><button>2</button><button>3</button><button>-</button>
      <button>0</button><button>.</button><button>=</button><button>+</button>
      <button>DEL</button><button>C</button>
    </div>
    <button class="close-calc">Close</button>
  </div>
</div>

<script src="questionbank.js"></script>
<script src="page4.js"></script>
</body>
</html>